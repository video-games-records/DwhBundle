services:
    vgr.dwh.data_provider.core.game:
        class: VideoGamesRecords\DwhBundle\DataProvider\Core\GameProvider
        arguments:
            - '@doctrine.orm.entity_manager'

    vgr.dwh.data_provider.core.player:
        class: VideoGamesRecords\DwhBundle\DataProvider\Core\PlayerProvider
        arguments:
            - '@doctrine.orm.entity_manager'

    vgr.dwh.data_provider.core.team:
        class: VideoGamesRecords\DwhBundle\DataProvider\Core\TeamProvider
        arguments:
            - '@doctrine.orm.entity_manager'

    vgr.dwh.data_provider.top:
        class: VideoGamesRecords\DwhBundle\DataProvider\TopProvider
        calls:
            - [ 'addStrategy', [ '@vgr.dwh.data_provider.strategy.top.game' ] ]
            - [ 'addStrategy', [ '@vgr.dwh.data_provider.strategy.top.player' ] ]

    vgr.dwh.data_provider.strategy.top.game:
        class: VideoGamesRecords\DwhBundle\DataProvider\Strategy\Top\TopGameStrategy
        arguments:
            - '@doctrine.orm.dwh_entity_manager'
            - '@doctrine.orm.entity_manager'

    vgr.dwh.data_provider.strategy.top.player:
        class: VideoGamesRecords\DwhBundle\DataProvider\Strategy\Top\TopPlayerStrategy
        arguments:
            - '@doctrine.orm.dwh_entity_manager'
            - '@doctrine.orm.entity_manager'



